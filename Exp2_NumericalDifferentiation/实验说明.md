# 实验二：数值微分的误差权衡

## 实验目的
1. 理解截断误差与舍入误差的权衡关系
2. 观察有限差分法计算导数时的误差变化规律
3. 分析步长对数值微分结果的影响
4. 比较数值解与解析解的差异

## 实验方法
1. 定义测试函数：f(x) = 1 + 1/2*tanh(2x)
2. 使用中心差分公式计算导数
3. 使用sympy计算解析解导数
4. 比较数值解与解析解

## 实验步骤
1. 实现测试函数 $f(x) = 1 + \frac12\tanh(2x)$
2. 使用中心差分公式计算函数在 $x\in [-2,2]$ 区间内的导数
3. 使用sympy计算函数导数的解析解：
   - 用diff计算导数解析式
   - 用lambdify将导数转化为可计算函数
4. 计算数值解与解析解的误差
5. 改变步长并记录误差
6. 绘制误差随步长变化的V形曲线

## 预期结果
1. 获得函数的解析导数表达式
2. 观察到误差随步长变化的V形曲线
3. 比较不同步长下数值解与解析解的差异
4. 确定最优步长范围

## 参考实现
```python
import numpy as np
from scipy import special
import sympy as sp

# 定义测试函数
def f(x):
    return 1 + 0.5 * np.tanh(2*x)

# 使用sympy计算解析导数
x = sp.symbols('x')
f_sym = 1 + 0.5 * sp.tanh(2*x)
df_sym = sp.diff(f_sym, x)
df_analytic = sp.lambdify(x, df_sym, 'numpy')
```